@startuml Group6_Architecture
' Self-contained PlantUML diagram without external dependencies
title Group6 Platform - AWS Architecture

skinparam backgroundColor #FFFFFF
skinparam packageStyle rectangle
skinparam componentStyle rectangle
skinparam databaseStyle rectangle
skinparam cloudStyle rectangle

' Define custom AWS-style colors
skinparam component {
    BackgroundColor #FF9900
    BorderColor #232F3E
    FontColor #FFFFFF
}

skinparam database {
    BackgroundColor #C925D1
    BorderColor #232F3E
    FontColor #FFFFFF
}

skinparam storage {
    BackgroundColor #7AA116
    BorderColor #232F3E
    FontColor #FFFFFF
}

actor "👥 Users" as users #232F3E
cloud "🌐 Internet" as internet #87CEEB

rectangle "☁️ AWS Cloud" as aws #FF9900 {
    rectangle "🏗️ VPC (Group_6-VPC)" as vpc #E6F3FF {
        
        rectangle "📍 Availability Zone us-east-1a" as az1 #E8F5E8 {
            rectangle "🌐 Public Subnet 1a" as public1 #90EE90 {
                component "🔄 Application Load Balancer\n(Group6-ALB)" as alb #FFA500
                component "🚪 Bastion Host\n(group6-bastion)" as bastion #4A90E2
            }
            rectangle "🔒 Private Subnet 1a" as private1 #FFB6C1 {
                component "💻 EC2 Instance 1\n(group6-instance-1)\nNode.js App" as ec2_1 #FF7F50
            }
            rectangle "🗄️ Database Subnet 1a" as db1 #FFFFE0 {
                database "🛢️ RDS MySQL Primary\n(group6-mysql)" as rds_primary #8A2BE2
            }
        }
        
        rectangle "📍 Availability Zone us-east-1b" as az2 #E8F5E8 {
            rectangle "🌐 Public Subnet 1b" as public2 #90EE90 {
                note top : ALB spans both AZs
            }
            rectangle "🔒 Private Subnet 1b" as private2 #FFB6C1 {
                component "💻 EC2 Instance 2\n(group6-instance-2)\nNode.js App" as ec2_2 #FF7F50
            }
            rectangle "🗄️ Database Subnet 1b" as db2 #FFFFE0 {
                database "🛢️ RDS MySQL Standby\n(Multi-AZ)" as rds_standby #8A2BE2
            }
        }
    }
    
    storage "📦 S3 Bucket\n(group6-static-files)\nFile Storage" as s3 #32CD32
}

' Traffic Flow
users --> internet : "🌐 HTTPS/HTTP"
internet --> alb : "🔌 Port 80/443"
alb --> ec2_1 : "📡 HTTP:3000"
alb --> ec2_2 : "📡 HTTP:3000"

' SSH Access
bastion -.-> ec2_1 : "🔑 SSH:22"
bastion -.-> ec2_2 : "🔑 SSH:22"

' Database Connections
ec2_1 --> rds_primary : "🗄️ MySQL:3306"
ec2_2 --> rds_primary : "🗄️ MySQL:3306"
rds_primary -.-> rds_standby : "🔄 Replication"

' File Storage
ec2_1 --> s3 : "📁 S3 API"
ec2_2 --> s3 : "📁 S3 API"

' Security Groups Info
note bottom of alb
🛡️ <b>Security Groups</b>
• ALB-SG: Port 80/443 ← Internet
• EC2-SG: Port 3000 ← ALB-SG
         Port 22 ← Bastion-SG
• RDS-SG: Port 3306 ← EC2-SG
• Bastion-SG: Port 22 ← Admin IP
end note


@enduml
